---
layout: post
title: Malware Lab
date: '2014-09-07T20:42:00.003-07:00'
author: Steven Lavoie
tags:
- malware
- inetsim
- reversing
modified_time: '2015-05-30T20:53:10.445-07:00'
blogger_id: tag:blogger.com,1999:blog-1636451537745562628.post-2084302358867409375
blogger_orig_url: http://imtryingtoscience.blogspot.com/2014/09/malware-lab.html
---
Running a malware lab in VirtualBox is a bit of a pain if you're new to virtual networks. It's taken me hours to get this thing working right. I had my webserver working internally on my network (Apache2 on a Debian VM hosted by Win8) but couldn't get [Inetsim](http://www.inetsim.org) to work.

---


Anyway, here's my settings now, with no special router configuration since it's all internal:


- I created a new Group in VirtualBox consisting of my WinXP and Debian VMs.
- Each one has network adapter 1 as Bridged over my ethernet/internet NIC and adapter 2 as "NAT Network". Note that this isn't just the "NAT" option; it's the NAT Services thing that's new to VirtualBox and currently "experimental" according to the [documentation](https://www.virtualbox.org/manual/ch06.html)
- I edited the Inetsim conf file (/etc/inetsim/inetsim.conf) for the IP binding and set it to the 192.168.200.* address assigned by VirtualBox.

Voila!

No other configuration would work for some reason even though I could get Apache to serve throughout the network in a few configurations.
